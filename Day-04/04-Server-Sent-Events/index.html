<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Server sent events - demo</title>
	<script src="jquery-1.12.2.min.js"></script>
	<script>
	$(function(){
		var evtSource = new EventSource("http://localhost:8080/stream");
		evtSource.addEventListener("message", function(evtArg){
			console.log('message evt' , evtArg);
			var data = evtArg.data;
			$("<div></div>")
				.html(data)
				.appendTo(".messages");
		});
		evtSource.addEventListener("fileChange", function(evtArg){
			window.location.reload();
		});
	});
	</script>
</head>
<body>
	<h1 style="color : red">Server Sent Events</h1>
	<hr>
	<div>This will apear now</div>
	<div class="messages">
		
	</div>
</body>
</html>